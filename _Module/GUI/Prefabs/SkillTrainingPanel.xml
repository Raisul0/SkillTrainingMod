<Prefab>
	<Constants>
		<Constant Name="PartyToggle.Width" BrushLayer="Default" BrushName="LeftPanel.Header" BrushValueType="Width" />
		<Constant Name="SidePanel.Width" Value="!PartyToggle.Width" />
		<Constant Name="SidePanel.Width.Scaled" MultiplyResult="1" Value="!SidePanel.Width" />

		<Constant Name="SidePanel.NegativeWidth" MultiplyResult="-1" Value="!SidePanel.Width" />
		<Constant Name="SidePanel.MarginTop" Value="90" />
		<Constant Name="SidePanel.MarginBottom" Value="70" />

		<Constant Name="TopBackground.Width" BrushLayer="Default" BrushName="LeftPanel.Header" BrushValueType="Width" />
		<Constant Name="TopBackground.Height" BrushLayer="Default" BrushName="LeftPanel.Header" BrushValueType="Height" />

		<Constant Name="TopBackground.Width.Scaled" MultiplyResult="0.85" Value="!TopBackground.Width" />
		<Constant Name="TopBackground.Height.Scaled" MultiplyResult="0.85" Value="!TopBackground.Height" />

		<Constant Name="Companion.Perk.Notification.Size" Value="35" />

		<Constant Name="DropdownCenterBrush" BooleanCheck="*IsFlatDesign" OnFalse="SPOptions.Dropdown.Center" OnTrue="MPLobby.CustomServer.CreateGamePanel.DropdownButton" />
		<Constant Name="DropdownListBackgroundBrush" BooleanCheck="*IsFlatDesign" OnFalse="SPOptions.Dropdown.Extension" OnTrue="MPLobby.CustomServer.CreateGamePanel.DropdownList" />

		<Constant Name="DropdownCenterTextBrush" BooleanCheck="*IsFlatDesign" OnFalse="SPOptions.Dropdown.Center.Text" OnTrue="MPLobby.CustomServer.CreateGamePanel.DropdownText" />

		<Constant Name="Item.Width" BooleanCheck="*IsFlatDesign" OnFalse="308" OnTrue="400" />

		<Constant Name="Extension.Width" BrushLayer="Default" BrushName="!DropdownListBackgroundBrush" BrushValueType="Width" />
		<Constant Name="DropdownCenter.Width" BrushLayer="Default" BrushName="!DropdownCenterBrush" BrushValueType="Width" />
		<Constant Name="DropdownCenter.Height" BrushLayer="Default" BrushName="!DropdownCenterBrush" BrushValueType="Height" />

	</Constants>
	<VisualDefinitions>
		<VisualDefinition Name="BottomMenu" EaseIn="true" TransitionDuration="0.45">
			<VisualState PositionYOffset="6" State="Default" />
		</VisualDefinition>
		<VisualDefinition Name="TopPanel" EaseIn="true" TransitionDuration="0.45">
			<VisualState PositionYOffset="-6" State="Default" />
		</VisualDefinition>
		<VisualDefinition Name="TopPanelExtension" EaseIn="true" DelayOnBegin="0.7" TransitionDuration="0.3">
			<VisualState PositionYOffset="0" State="Default" />
		</VisualDefinition>
		<VisualDefinition Name="LeftPanel" EaseIn="true" TransitionDuration="0.4">
			<VisualState PositionXOffset="0" State="Default" />
		</VisualDefinition>
		<VisualDefinition Name="RightPanel" EaseIn="true" TransitionDuration="0.4">
			<VisualState PositionXOffset="0" State="Default" />
		</VisualDefinition>
	</VisualDefinitions>

	<Window>
		<BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="CoverChildren" SuggestedWidth="!SidePanel.Width.Scaled" HorizontalAlignment="Center" VerticalAlignment="Center" MarginTop="!SidePanel.MarginTop" MarginBottom="!SidePanel.MarginBottom"  Brush="Frame1.Broken.Left">
			<Children>

				<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!TopBackground.Width" SuggestedHeight="!TopBackground.Height" Sprite="CharacterDeveloper\left_panel_stone">
					<Children>

						<ListPanel DataSource="{UnspentAttributePointsHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Left" VerticalAlignment="Center" MarginLeft="25" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" DoNotPassEventsToChildren="true">
							<Children>

								<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="35" SuggestedHeight="35" VerticalAlignment="Center" PositionYOffset="-2" Sprite="CharacterDeveloper\attribute_point_icon" />

								<Widget DataSource="{..}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" VerticalAlignment="Center">
									<Children>
										<TextWidget DataSource="{CurrentCharacter}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" VerticalAlignment="Center" Brush="CharacterDeveloper.RightPanel.FreeFocus.Text.Prox" Brush.FontColor="#FAEBD4FF" Brush.FontSize="40" PositionYOffset="-2" IntText="@UnspentAttributePoints" />
									</Children>
								</Widget>
							</Children>
						</ListPanel>

						<TextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="CharacterDeveloper.RightPanel.Title.Text" Text="@SkillsText"  DoNotAcceptEvents="true"/>

						<ListPanel DataSource="{UnspentCharacterPointsHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Right" VerticalAlignment="Center" MarginRight="25" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" DoNotPassEventsToChildren="true">
							<Children>

								<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="35" SuggestedHeight="35" VerticalAlignment="Center" Sprite="CharacterDeveloper\cp_icon" PositionYOffset="-2"/>

								<Widget DataSource="{..}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" VerticalAlignment="Center">
									<Children>
										<TextWidget DataSource="{CurrentCharacter}"  WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" VerticalAlignment="Center" HorizontalAlignment="Center" PositionYOffset="-2" Brush="CharacterDeveloper.RightPanel.FreeFocus.Text.Prox" Brush.FontColor="#FAEBD4FF" Brush.FontSize="40" IntText="@UnspentCharacterPoints" />
									</Children>
								</Widget>
							</Children>
						</ListPanel>

					</Children>
				</Widget>

				<ListPanel Id="InnerPanel" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" PositionYOffset="5" MarginTop="!TopBackground.Height"  Command.Click="ExecuteOnSelected" >
					<Children>

						<NavigationScopeTargeter ScopeID="AttributesScope" ScopeParent="..\AttributesList" ScopeMovements="Vertical" RightNavigationScope="SkillsScope" />
						<NavigatableListPanel Id="AttributesList" DataSource="{CurrentCharacter\Attributes}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="VerticalBottomToTop">
							<ItemTemplate>
								<AttributeListItem MarginBottom="14"/>
							</ItemTemplate>
						</NavigatableListPanel>


						<NavigationScopeTargeter ScopeID="SkillsScope" ScopeParent="..\SkillsGrid" ScopeMovements="Horizontal" AlternateScopeMovements="Vertical" IsDefaultNavigationScope="true" AlternateMovementStepSize="3" LeftNavigationScope="AttributesScope" RightNavigationScope="PerksFirstScope" />
						<NavigatableGridWidget Id="SkillsGrid" DataSource="{Skills}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" DefaultCellWidth="178" DefaultCellHeight="138" ColumnCount="3" MarginLeft="11.558"  >
							<ItemTemplate>
								<SkillTrainingGridItem VerticalAlignment="Top" HorizontaAlignment="Center" />
							</ItemTemplate>
						</NavigatableGridWidget>

					</Children>
				</ListPanel>

			</Children>
		</BrushWidget>
	</Window>
</Prefab>
